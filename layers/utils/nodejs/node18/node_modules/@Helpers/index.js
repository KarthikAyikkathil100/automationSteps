const axios = require('axios')
const videoIntelligence = require('@google-cloud/video-intelligence').v1;
const { Storage } = require('@google-cloud/storage');
const { getByName } = require('../@AwsHelpers/SSM/index')


async function getKey(name) {
    try {
        let creds = await getByName(name)
        resCreds = JSON.parse(creds)
        return resCreds
    } catch (e) {
        console.log('Error while fetching ssm key => {}')
        return null
    }
}

async function startTextBlur() {
    try {
        const key = await getKey('/automation/google/creds')
        
    } catch (e) {
        console.log("Error while text blur")
        console.log(e);
    }
}

const serviceAccount = require('./config/service_account');
const storage = new Storage({
    credentials: serviceAccount
})

const client = new videoIntelligence.VideoIntelligenceServiceClient({
    credentials: serviceAccount
});
const bucketName = 'rtme-videos';



module.exports = {
    axios
}