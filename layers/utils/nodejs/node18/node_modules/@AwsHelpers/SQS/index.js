const AWS = require('aws-sdk')

const SQS = new AWS.SQS({
    region: process.env.Region && process.env.Region !== 'undefined' ? process.env.Region : 'eu-north-1',
})

module.exports = {
    sendToQueue: async  (data, queueURL) => {
        return new Promise(async (resolve, reject) => {
            try {
                await SQS.sendMessage({
                    QueueUrl: queueURL,
                    MessageBody: JSON.stringify(data),
                }).promise()
                return resolve()
            } catch (e) {
                console.log(e);
                return reject(e);
            }
        })
    }
}